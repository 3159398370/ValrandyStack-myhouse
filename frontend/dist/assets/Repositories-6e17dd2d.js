import{m as l,a as o,n as c}from"./index-010a87de.js";const u={name:"Repositories",data(){return{selectedLanguage:null,sortBy:"stars",filteredRepositories:[],languageColors:{JavaScript:"#f1e05a",TypeScript:"#2b7489",Python:"#3572A5",Java:"#b07219",HTML:"#e34c26",CSS:"#563d7c",Vue:"#41b883",PHP:"#4F5D95",Ruby:"#701516",Go:"#00ADD8",C:"#555555","C++":"#f34b7d","C#":"#178600",Swift:"#ffac45",Kotlin:"#F18E33",Rust:"#dea584"}}},computed:{...l("repositories",["repositories","loading","error"]),languages(){const a=this.repositories.map(t=>t.language).filter(t=>t!=null);return[...new Set(a)].sort()}},created(){this.fetchRepositories()},methods:{...o("repositories",["fetchRepositories"]),filterByLanguage(a){this.selectedLanguage=a,this.applyFilters()},sortRepositories(){this.applyFilters()},resetFilters(){this.selectedLanguage=null,this.sortBy="stars",this.applyFilters()},applyFilters(){let a=this.selectedLanguage===null?[...this.repositories]:this.repositories.filter(t=>t.language===this.selectedLanguage);a.sort((t,e)=>{switch(this.sortBy){case"stars":return e.stargazers_count-t.stargazers_count;case"updated":return new Date(e.updated_at)-new Date(t.updated_at);case"name":return t.name.localeCompare(e.name);case"created":return new Date(e.created_at)-new Date(t.created_at);default:return 0}}),this.filteredRepositories=a},getLanguageColor(a){return this.languageColors[a]||"#6c757d"},formatDate(a){const t=new Date(a),s=Math.abs(new Date-t),i=Math.ceil(s/(1e3*60*60*24));return i<1?"今天":i<2?"昨天":i<7?`${i}天前`:i<30?`${Math.floor(i/7)}周前`:i<365?`${Math.floor(i/30)}个月前`:`${Math.floor(i/365)}年前`},hasPages(a){return a.has_pages||a.homepage},getPageUrl(a){return a.homepage?a.homepage:a.has_pages?`https://${a.owner.login}.github.io/${a.name}`:null}},watch:{repositories:{immediate:!0,handler(a){a.length>0&&this.applyFilters()}}}};var d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"repositories-page"},[t._m(0),e("div",{staticClass:"container"},[e("div",{staticClass:"filters"},[e("div",{staticClass:"filter-group"},[e("label",[t._v("编程语言：")]),e("div",{staticClass:"filter-options"},[e("button",{staticClass:"filter-btn",class:{active:t.selectedLanguage===null},on:{click:function(s){return t.filterByLanguage(null)}}},[t._v(" 全部 ")]),t._l(t.languages,function(s){return e("button",{key:s,staticClass:"filter-btn",class:{active:t.selectedLanguage===s},on:{click:function(i){return t.filterByLanguage(s)}}},[t._v(" "+t._s(s)+" ")])})],2)]),e("div",{staticClass:"sort-group"},[e("label",[t._v("排序：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],on:{change:[function(s){var i=Array.prototype.filter.call(s.target.options,function(r){return r.selected}).map(function(r){var n="_value"in r?r._value:r.value;return n});t.sortBy=s.target.multiple?i:i[0]},t.sortRepositories]}},[e("option",{attrs:{value:"stars"}},[t._v("星标数量")]),e("option",{attrs:{value:"updated"}},[t._v("最近更新")]),e("option",{attrs:{value:"name"}},[t._v("名称")]),e("option",{attrs:{value:"created"}},[t._v("创建时间")])])])]),t.loading?e("div",{staticClass:"loading"},[e("div",{staticClass:"spinner"}),e("p",[t._v("正在从GitHub获取仓库数据...")])]):t.error?e("div",{staticClass:"error"},[e("i",{staticClass:"fas fa-exclamation-circle"}),e("h3",[t._v("获取仓库失败")]),e("p",[t._v(t._s(t.error))]),e("button",{staticClass:"btn btn-primary",on:{click:t.fetchRepositories}},[t._v("重试")])]):t.filteredRepositories.length===0?e("div",{staticClass:"no-results"},[e("i",{staticClass:"fab fa-github"}),e("h3",[t._v("未找到匹配的仓库")]),e("p",[t._v("尝试选择不同的编程语言或排序方式")]),e("button",{staticClass:"btn btn-primary",on:{click:t.resetFilters}},[t._v("重置筛选器")])]):e("div",{staticClass:"repositories-grid"},t._l(t.filteredRepositories,function(s){return e("div",{key:s.id,staticClass:"repository-card"},[e("div",{staticClass:"repository-header"},[e("h3",{staticClass:"repository-name"},[e("a",{attrs:{href:s.html_url,target:"_blank",rel:"noopener noreferrer"}},[t._v(" "+t._s(s.name)+" ")])]),e("div",{staticClass:"repository-visibility",class:s.private?"private":"public"},[t._v(" "+t._s(s.private?"私有":"公开")+" ")])]),s.description?e("p",{staticClass:"repository-description"},[t._v(" "+t._s(s.description)+" ")]):e("p",{staticClass:"repository-description no-description"},[t._v(" 暂无描述 ")]),e("div",{staticClass:"repository-meta"},[s.language?e("div",{staticClass:"meta-item"},[e("span",{staticClass:"language-color",style:{backgroundColor:t.getLanguageColor(s.language)}}),e("span",[t._v(t._s(s.language))])]):t._e(),s.stargazers_count>0?e("div",{staticClass:"meta-item"},[e("i",{staticClass:"fas fa-star"}),e("span",[t._v(t._s(s.stargazers_count))])]):t._e(),s.forks_count>0?e("div",{staticClass:"meta-item"},[e("i",{staticClass:"fas fa-code-branch"}),e("span",[t._v(t._s(s.forks_count))])]):t._e(),e("div",{staticClass:"meta-item"},[e("i",{staticClass:"far fa-clock"}),e("span",[t._v(t._s(t.formatDate(s.updated_at)))])])]),e("div",{staticClass:"repository-footer"},[e("a",{staticClass:"btn btn-outline",attrs:{href:s.html_url,target:"_blank",rel:"noopener noreferrer"}},[e("i",{staticClass:"fab fa-github"}),t._v(" 查看仓库 ")]),t.hasPages(s)?e("a",{staticClass:"btn btn-secondary",attrs:{href:t.getPageUrl(s),target:"_blank",rel:"noopener noreferrer"}},[e("i",{staticClass:"fas fa-globe"}),t._v(" 项目页面 ")]):t._e()])])}),0)])])},_=[function(){var a=this,t=a._self._c;return t("div",{staticClass:"page-header"},[t("div",{staticClass:"container"},[t("h1",{staticClass:"page-title"},[a._v("代码仓库")]),t("p",{staticClass:"page-description"},[a._v("我的GitHub开源项目展示")])])])}],p=c(u,d,_,!1,null,"259f0c4b",null,null);const g=p.exports;export{g as default};
