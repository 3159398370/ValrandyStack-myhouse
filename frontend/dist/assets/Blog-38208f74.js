import{m as l,a as c,n}from"./index-010a87de.js";import{_ as o}from"./avatar-4a1a6061.js";const d={name:"Blog",data(){return{searchQuery:"",selectedTag:null,viewMode:"grid",currentPage:1,postsPerPage:6,subscribeEmail:"",filteredPosts:[]}},computed:{...l("blog",["posts","tags","loading","error"]),paginatedPosts(){const e=(this.currentPage-1)*this.postsPerPage,t=e+this.postsPerPage;return this.filteredPosts.slice(e,t)},totalPages(){return Math.ceil(this.filteredPosts.length/this.postsPerPage)},popularPosts(){return[...this.posts].sort((e,t)=>t.view_count-e.view_count).slice(0,5)}},created(){this.fetchPosts(),this.fetchTags()},methods:{...c("blog",["fetchPosts","fetchTags"]),filterPosts(){let e=[...this.posts];if(this.selectedTag&&(e=e.filter(t=>t.tags.includes(this.selectedTag))),this.searchQuery.trim()){const t=this.searchQuery.toLowerCase().trim();e=e.filter(s=>s.title.toLowerCase().includes(t)||s.excerpt.toLowerCase().includes(t)||s.content.toLowerCase().includes(t))}this.filteredPosts=e,this.currentPage=1},filterByTag(e){this.selectedTag===e?this.selectedTag=null:this.selectedTag=e,this.filterPosts()},resetFilters(){this.searchQuery="",this.selectedTag=null,this.filterPosts()},goToPost(e){this.$router.push({name:"BlogPost",params:{id:e}})},formatDate(e){const t={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("zh-CN",t)},subscribeNewsletter(){alert(`感谢订阅！我们将向 ${this.subscribeEmail} 发送更新通知。`),this.subscribeEmail=""}},watch:{posts:{immediate:!0,handler(e){e.length>0&&(this.filteredPosts=[...e])}}}};var u=function(){var t=this,s=t._self._c;return s("div",{staticClass:"blog-page"},[t._m(0),s("div",{staticClass:"container"},[s("div",{staticClass:"blog-layout"},[s("div",{staticClass:"blog-main"},[s("div",{staticClass:"blog-filters"},[s("div",{staticClass:"search-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],attrs:{type:"text",placeholder:"搜索文章..."},domProps:{value:t.searchQuery},on:{input:[function(a){a.target.composing||(t.searchQuery=a.target.value)},t.filterPosts]}}),s("i",{staticClass:"fas fa-search"})]),s("div",{staticClass:"view-options"},[s("button",{staticClass:"view-btn",class:{active:t.viewMode==="grid"},on:{click:function(a){t.viewMode="grid"}}},[s("i",{staticClass:"fas fa-th-large"})]),s("button",{staticClass:"view-btn",class:{active:t.viewMode==="list"},on:{click:function(a){t.viewMode="list"}}},[s("i",{staticClass:"fas fa-list"})])])]),t.loading?s("div",{staticClass:"loading"},[s("div",{staticClass:"spinner"}),s("p",[t._v("正在加载博客文章...")])]):t.error?s("div",{staticClass:"error"},[s("i",{staticClass:"fas fa-exclamation-circle"}),s("h3",[t._v("获取文章失败")]),s("p",[t._v(t._s(t.error))]),s("button",{staticClass:"btn btn-primary",on:{click:t.fetchPosts}},[t._v("重试")])]):t.filteredPosts.length===0?s("div",{staticClass:"no-results"},[s("i",{staticClass:"fas fa-file-alt"}),s("h3",[t._v("未找到匹配的文章")]),t.searchQuery?s("p",[t._v("尝试使用不同的搜索关键词或清除筛选条件")]):s("p",[t._v("暂无博客文章，敬请期待")]),t.searchQuery?s("button",{staticClass:"btn btn-primary",on:{click:t.resetFilters}},[t._v("清除筛选")]):t._e()]):t.viewMode==="grid"?s("div",{staticClass:"blog-grid"},t._l(t.filteredPosts,function(a){return s("div",{key:a.id,staticClass:"blog-card",on:{click:function(i){return t.goToPost(a.id)}}},[a.featured_image?s("div",{staticClass:"blog-card-image"},[s("img",{attrs:{src:a.featured_image,alt:a.title}})]):t._e(),s("div",{staticClass:"blog-card-content"},[s("div",{staticClass:"blog-card-meta"},[s("span",{staticClass:"blog-date"},[s("i",{staticClass:"far fa-calendar-alt"}),t._v(" "+t._s(t.formatDate(a.published_date))+" ")]),s("span",{staticClass:"blog-read-time"},[s("i",{staticClass:"far fa-clock"}),t._v(" "+t._s(a.read_time)+" 分钟阅读 ")])]),s("h3",{staticClass:"blog-card-title"},[t._v(t._s(a.title))]),s("p",{staticClass:"blog-card-excerpt"},[t._v(t._s(a.excerpt))]),s("div",{staticClass:"blog-card-tags"},t._l(a.tags,function(i){return s("span",{key:i,staticClass:"blog-tag",on:{click:function(r){return r.stopPropagation(),t.filterByTag(i)}}},[t._v(" "+t._s(i)+" ")])}),0)])])}),0):s("div",{staticClass:"blog-list"},t._l(t.filteredPosts,function(a){return s("div",{key:a.id,staticClass:"blog-list-item",on:{click:function(i){return t.goToPost(a.id)}}},[a.featured_image?s("div",{staticClass:"blog-list-image"},[s("img",{attrs:{src:a.featured_image,alt:a.title}})]):t._e(),s("div",{staticClass:"blog-list-content"},[s("h3",{staticClass:"blog-list-title"},[t._v(t._s(a.title))]),s("div",{staticClass:"blog-list-meta"},[s("span",{staticClass:"blog-date"},[s("i",{staticClass:"far fa-calendar-alt"}),t._v(" "+t._s(t.formatDate(a.published_date))+" ")]),s("span",{staticClass:"blog-read-time"},[s("i",{staticClass:"far fa-clock"}),t._v(" "+t._s(a.read_time)+" 分钟阅读 ")])]),s("p",{staticClass:"blog-list-excerpt"},[t._v(t._s(a.excerpt))]),s("div",{staticClass:"blog-list-tags"},t._l(a.tags,function(i){return s("span",{key:i,staticClass:"blog-tag",on:{click:function(r){return r.stopPropagation(),t.filterByTag(i)}}},[t._v(" "+t._s(i)+" ")])}),0)])])}),0),t.filteredPosts.length>0?s("div",{staticClass:"pagination"},[s("button",{staticClass:"pagination-btn",attrs:{disabled:t.currentPage===1},on:{click:function(a){t.currentPage--}}},[s("i",{staticClass:"fas fa-chevron-left"}),t._v(" 上一页 ")]),s("div",{staticClass:"pagination-info"},[t._v(" 第 "+t._s(t.currentPage)+" 页，共 "+t._s(t.totalPages)+" 页 ")]),s("button",{staticClass:"pagination-btn",attrs:{disabled:t.currentPage===t.totalPages},on:{click:function(a){t.currentPage++}}},[t._v(" 下一页 "),s("i",{staticClass:"fas fa-chevron-right"})])]):t._e()]),s("div",{staticClass:"blog-sidebar"},[t._m(1),s("div",{staticClass:"sidebar-widget tags-cloud"},[s("h3",{staticClass:"widget-title"},[t._v("文章标签")]),s("div",{staticClass:"tags-container"},t._l(t.tags,function(a){return s("span",{key:a,staticClass:"blog-tag",class:{active:t.selectedTag===a},on:{click:function(i){return t.filterByTag(a)}}},[t._v(" "+t._s(a)+" ")])}),0)]),s("div",{staticClass:"sidebar-widget popular-posts"},[s("h3",{staticClass:"widget-title"},[t._v("热门文章")]),s("div",{staticClass:"popular-posts-list"},t._l(t.popularPosts,function(a){return s("div",{key:a.id,staticClass:"popular-post-item",on:{click:function(i){return t.goToPost(a.id)}}},[a.featured_image?s("div",{staticClass:"popular-post-image"},[s("img",{attrs:{src:a.featured_image,alt:a.title}})]):t._e(),s("div",{staticClass:"popular-post-content"},[s("h4",{staticClass:"popular-post-title"},[t._v(t._s(a.title))]),s("div",{staticClass:"popular-post-meta"},[s("span",{staticClass:"blog-date"},[s("i",{staticClass:"far fa-calendar-alt"}),t._v(" "+t._s(t.formatDate(a.published_date))+" ")])])])])}),0)]),s("div",{staticClass:"sidebar-widget subscribe"},[s("h3",{staticClass:"widget-title"},[t._v("订阅更新")]),s("p",[t._v("输入您的邮箱地址，获取最新文章通知")]),s("form",{staticClass:"subscribe-form",on:{submit:function(a){return a.preventDefault(),t.subscribeNewsletter.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.subscribeEmail,expression:"subscribeEmail"}],attrs:{type:"email",placeholder:"您的邮箱地址",required:""},domProps:{value:t.subscribeEmail},on:{input:function(a){a.target.composing||(t.subscribeEmail=a.target.value)}}}),t._m(2)])])])])])])},g=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-header"},[t("div",{staticClass:"container"},[t("h1",{staticClass:"page-title"},[e._v("博客")]),t("p",{staticClass:"page-description"},[e._v("分享我的技术心得与学习笔记")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"sidebar-widget about-author"},[t("h3",{staticClass:"widget-title"},[e._v("关于博主")]),t("div",{staticClass:"author-info"},[t("div",{staticClass:"author-avatar"},[t("img",{attrs:{src:o,alt:"博主头像"}})]),t("div",{staticClass:"author-bio"},[t("h4",[e._v("Valrandy·Joseph")]),t("p",[e._v("全栈开发者，热爱技术分享和开源贡献。专注于Vue、Django和数据可视化领域。")])])]),t("div",{staticClass:"author-social"},[t("a",{attrs:{href:"https://github.com/ValrandyStack",target:"_blank",rel:"noopener noreferrer"}},[t("i",{staticClass:"fab fa-github"})]),t("a",{attrs:{href:"https://twitter.com/ValrandyStack",target:"_blank",rel:"noopener noreferrer"}},[t("i",{staticClass:"fab fa-twitter"})]),t("a",{attrs:{href:"https://linkedin.com/in/ValrandyStack",target:"_blank",rel:"noopener noreferrer"}},[t("i",{staticClass:"fab fa-linkedin"})])])])},function(){var e=this,t=e._self._c;return t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v(" 订阅 "),t("i",{staticClass:"fas fa-paper-plane"})])}],v=n(d,u,g,!1,null,"73bdd919",null,null);const b=v.exports;export{b as default};
